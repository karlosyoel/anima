(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[8869],{28869:function(e,n,t){"use strict";t.d(n,{Z:function(){return w}});var r=t(50029),o=t(16835),s=t(87794),a=t.n(s),i=t(67294),c=t(41664),l=t.n(c),d=t(16517),u=t(53781),m=t(3299),x=t(27774),h=t(63153),f=t(728),p=t(94947),g=t(46942),b=t(82355),v=t(38221),j=t(85893);function y(e){var n=e.user,t=e.onCloseCallback,r=(0,i.useState)(!1),s=r[0],a=r[1],c=(0,i.useState)(""),l=c[0],u=c[1],m=(0,h.Z)(),x=(0,o.Z)(m,2),y=x[0],w=x[1],k=w.isLoading,N=w.isSuccess,C=(0,d.useSelector)((function(e){return e.customization.config}));return(0,i.useEffect)((function(){k&&(u("Deleting your account..."),a(!1),u("Deleting your account..."))}),[k]),(0,i.useEffect)((function(){N&&u("Your account has been successfully deleted")}),[N]),(0,j.jsxs)(j.Fragment,{children:[(0,j.jsxs)(g.u,{children:[(0,j.jsx)(g.u.Header,{onCloseCallback:t,children:(0,j.jsx)(g.u.Title,{children:"Account settings"})}),(0,j.jsxs)(g.u.Body,{children:[(0,j.jsx)("div",{className:"p-4",children:(0,j.jsx)(b.g,{label:"Email",value:(null===n||void 0===n?void 0:n.email)||"",type:"text",disabled:!0})}),(0,j.jsxs)("div",{className:"border border-red-500 p-5 mx-4 rounded-xl",children:[(0,j.jsxs)("div",{className:"border-b leading-6 mb-4 pb-4 text-lg text-red-700",children:[(0,j.jsx)("svg",{className:"h-6 w-6 text-red-600 float-left mr-2",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor","aria-hidden":"true",children:(0,j.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-3L13.732 4c-.77-1.333-2.694-1.333-3.464 0L3.34 16c-.77 1.333.192 3 1.732 3z"})}),"Danger zone"]}),(0,j.jsxs)("div",{className:"w-full sm:inline-flex",children:[(0,j.jsxs)("div",{className:"sm:w-2/3 max-w-sm sm:mx-auto mb-2 sm:mb-0",children:["Irreversible and destructive action.",(0,j.jsx)("br",{})," Tread lightly"]}),(0,j.jsx)(v.Z,{text:"Delete account",color:v.r.Custom,className:"bg-red-600 p-2",onClick:function(){return a(!0)}})]})]})]}),(0,j.jsx)(g.u.Footer,{children:(0,j.jsxs)("div",{className:"py-6 space-x-4 text-center",children:[(0,j.jsx)("a",{id:"privacy-policy",className:"pointer-events-auto",target:"_blank",href:"/terms",children:"Terms of Use"}),(0,j.jsx)("span",{children:"\u2022"}),(0,j.jsx)("a",{id:"privacy-policy",className:"pointer-events-auto",target:"_blank",href:"/privacy",children:"Privacy Policy"})]})})]}),s&&(0,j.jsx)(f.Z,{title:"Delete account",message:"Are you sure you want to delete your account? All of your data will be permanently removed. This action cannot be undone.",isWarning:!0,confirmBtnText:"Delete",onCancelCallback:function(){return a(!1)},onConfirmCallback:y}),l&&(0,j.jsx)(p.Z,{message:l,showLogo:!(null===C||void 0===C||!C.show_rpm_loading_logo)})]})}function w(e){var n,t=e.hideSignIn,s=void 0!==t&&t,c=e.disableCookies;if(void 0!==c&&c)return(0,j.jsx)(j.Fragment,{});var h=(0,m._y)(),f=(0,o.Z)(h,1)[0],p=(0,d.useSelector)(u.dy),g=p.isLoggedIn,b=p.refreshToken,v=(0,i.useState)(!1),w=v[0],k=v[1],N=(0,i.useState)(!1),C=N[0],_=N[1];return(0,j.jsxs)(j.Fragment,{children:[!p&&!s&&(0,j.jsx)(l(),{href:"/signin",children:(0,j.jsx)("a",{className:"hover:text-gray-400",children:"Sign in"})}),(null===p||void 0===p?void 0:p.isLoggedIn)&&(0,j.jsxs)("div",{className:"ml-3 relative",children:[(0,j.jsx)("div",{children:(0,j.jsxs)("button",{className:"account-btn mt-1.5 max-w-xs bg-gray-800 rounded-full flex items-center text-sm focus:outline-none text-white hover:bg-gray-700 focus:bg-gray-700",id:"user-menu","aria-haspopup":"true",onClick:function(){return k(!w)},children:[(0,j.jsx)("span",{className:"sr-only",children:"Open user menu"}),(0,j.jsx)("div",{className:"h-8 w-8 rounded-full text-xl leading-relaxed",children:null===(n=p.name)||void 0===n?void 0:n.charAt(0).toUpperCase()})]})}),w&&(0,j.jsxs)(x.h_,{closeIgnoreClass:"account-btn",onClose:function(){return k(!1)},children:[(0,j.jsxs)(x.h_.Item,{children:["You're signed in as",(0,j.jsx)("div",{className:"font-bold",children:p.name})]}),(0,j.jsx)(x.h_.Item,{onClick:function(){_(!0)},children:"Account settings"}),(0,j.jsx)(x.h_.Item,{onClick:(0,r.Z)(a().mark((function e(){return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!g||!b){e.next=3;break}return e.next=3,f(b);case 3:case"end":return e.stop()}}),e)}))),children:"Sign out"})]}),C&&(0,j.jsx)(y,{user:p,onCloseCallback:function(){return _(!1)}})]})]})}y.defaultProps={user:void 0}},27774:function(e,n,t){"use strict";t.d(n,{a9:function(){return r},h_:function(){return h},iv:function(){return x}});var r,o=t(30975),s=t(94184),a=t.n(s),i=t(70850),c=t(70425),l=t(27399),d=t.n(l),u=t(85893),m={container:a()(d().dropDownMenu,"pt-2 z-20"),content:a()(d().dropDownMenuContent,"flex flex-col rounded-lg shadow-lg py-2 ring-1 ring-black ring-opacity-5 text-left border-1 overflow-hidden"),item:"block px-6 py-2 text-sm whitespace-nowrap",link:"transition-colors ease-in block cursor-pointer highlight font-semibold",position:{left:"absolute left-0",right:"absolute right-0",center:"absolute left-1/2 transform -translate-x-1/2"}};!function(e){e.Center="center",e.Left="left",e.Right="right"}(r||(r={}));var x,h=function(e){var n=e.children,t=e.closeIgnoreClass,r=e.onClose,s=e.position,a=(0,o.Z)(r,{ignoreClass:t});return(0,u.jsx)(i.E.div,{ref:a,className:"".concat(m.container," ").concat(m.position[s]),style:{minWidth:"180px"},role:"menu","aria-orientation":"vertical","aria-labelledby":"user-menu","data-testid":"dropdown-menu",initial:{opacity:0},animate:{opacity:1},transition:{ease:"easeIn",duration:".15"},children:(0,u.jsx)("div",{className:m.content,children:n})})};h.defaultProps={position:r.Right},function(e){e.Primary="primary",e.Secondary="secondary"}(x||(x={})),h.Item=function(e){var n=e.children,t=e.link,r=e.onClick,o=e.color,s=e.target;return(0,u.jsx)(c.Z,{condition:!!r||!!t,wrapper:function(e){return(0,u.jsx)("a",{href:t||"#",className:"".concat(m.link," ").concat(o),onClick:r,target:s,children:e})},children:(0,u.jsx)("div",{className:m.item,role:"menuitem",children:n})})},h.Delimiter=function(){return(0,u.jsx)("hr",{className:"mx-4 my-2"})}},38221:function(e,n,t){"use strict";t.d(n,{r:function(){return r}});var r,o=t(4730),s=(t(67294),t(41664)),a=t.n(s),i=t(94184),c=t.n(i),l=t(57630),d=t(29124),u=t.n(d),m=t(70425),x=t(85893),h=["color"];!function(e){e[e.Primary=0]="Primary",e[e.Secondary=1]="Secondary",e[e.Custom=2]="Custom"}(r||(r={})),n.Z=(0,l.withAnalytics)({events:"onClick"})((function(e){var n=e.color,t=void 0===n?r.Primary:n,s=(0,o.Z)(e,h),i="";switch(t){case r.Primary:i=u().buttonPrimary;break;case r.Secondary:i=u().buttonSecondary}return s.className&&(i+=" ".concat(s.className)),s.target?(0,x.jsx)("a",{target:s.target,href:s.href,id:s.id,className:"".concat(i," rounded-xl"),children:s.text}):(0,x.jsx)(m.Z,{condition:!!s.href,wrapper:function(e){return(0,x.jsx)(a(),{href:s.href||"",children:e})},children:(0,x.jsx)("button",{type:"button",disabled:s.disabled,id:s.id,"data-cy":s.datacy,className:c()("flex items-center justify-center",i),onClick:s.onClick,children:s.text})})}))},82355:function(e,n,t){"use strict";t.d(n,{g:function(){return v}});var r=t(59499),o=t(4730),s=t(67294),a=t(85893),i=["dot","type","error","errorMessage","label","name"];function c(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n&&(r=r.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),t.push.apply(t,r)}return t}function l(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{};n%2?c(Object(t),!0).forEach((function(n){(0,r.Z)(e,n,t[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):c(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}))}return e}var d="relative mb-6 mt-3",u="text-red-500 pl-0.5",m="text-gray-400",x="bg-transparent rounded-xl flex-1 w-full py-4 px-4 text-gray-400 placeholder-gray-400 shadow-sm text-xs focus:outline-none focus:ring-2 border",h="checked:bg-blue-500 checked:right-0 focus:outline-none right-4 duration-200 ease-in absolute block w-6 h-6 rounded-full bg-white border-4 appearance-none cursor-pointer",f="relative w-10 mr-2 align-middle select-none mt-2",p="block overflow-hidden h-6 rounded-full bg-gray-300",g="ring-red-500 ring-2",b="text-sm text-red-500 mb-6 mt-1",v=(0,s.forwardRef)((function(e,n){var t=e.dot,r=e.type,s=e.error,c=e.errorMessage,v=e.label,y=e.name,w=(0,o.Z)(e,i);return(0,a.jsxs)("div",{className:d,children:[v&&(0,a.jsxs)("label",{htmlFor:y,className:m,children:[v,t&&(0,a.jsx)("span",{className:u,children:"*"})]}),"select"===r&&(0,a.jsx)("select",l(l({},w),{},{ref:n,name:y,className:"".concat(x," ").concat(s&&g)})),"textarea"===r&&(0,a.jsx)("textarea",l(l({},w),{},{ref:n,name:y,className:"".concat(x," ").concat(s&&g)})),"checkbox"===r&&(0,a.jsxs)("div",{className:f,children:[(0,a.jsx)("input",l({type:"checkbox",name:y,className:h},w)),(0,a.jsx)("span",{className:p})]}),"checkbox"!==r&&"select"!==r&&"textarea"!==r&&(0,a.jsx)("input",l(l({},w),{},{type:r,ref:n,name:y,className:"".concat(x," ").concat(s&&g)})),s&&(0,a.jsxs)(a.Fragment,{children:["textarea"!==r&&"select"!==r&&"checkbox"!==r&&(0,a.jsx)(j,{}),(0,a.jsx)("p",{className:b,children:c})]})]})})),j=function(){return(0,a.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"15",height:"15",fill:"currentColor",className:"absolute text-red-500 right-2 -mt-7",viewBox:"0 0 1792 1792",children:(0,a.jsx)("path",{d:"M1024 1375v-190q0-14-9.5-23.5t-22.5-9.5h-192q-13 0-22.5 9.5t-9.5 23.5v190q0 14 9.5 23.5t22.5 9.5h192q13 0 22.5-9.5t9.5-23.5zm-2-374l18-459q0-12-10-19-13-11-24-11h-220q-11 0-24 11-10 7-10 21l17 457q0 10 10 16.5t24 6.5h185q14 0 23.5-6.5t10.5-16.5zm-14-934l768 1408q35 63-2 126-17 29-46.5 46t-63.5 17h-1536q-34 0-63.5-17t-46.5-46q-37-63-2-126l768-1408q17-31 47-49t65-18 65 18 47 49z"})})}},728:function(e,n,t){"use strict";t(67294);var r=t(19428),o=t(94184),s=t.n(o),a=t(82597),i=t.n(a),c=t(46942),l=t(85893);n.Z=function(e){var n=e.title,t=e.message,o=e.isWarning,a=e.cancelBtnText,d=e.confirmBtnText,u=e.onCancelCallback,m=e.onConfirmCallback,x=(0,r.useTranslation)("common").t;return(0,l.jsx)(l.Fragment,{children:(0,l.jsxs)(c.u,{children:[(0,l.jsx)(c.u.Body,{children:(0,l.jsxs)("div",{className:"sm:flex sm:items-start p-4",children:[o&&(0,l.jsx)("div",{className:"mx-auto flex-shrink-0 flex items-center justify-center h-12 w-12 rounded-full bg-red-100 sm:mx-0 sm:h-10 sm:w-10",children:(0,l.jsx)("svg",{className:"h-6 w-6 text-red-600",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor","aria-hidden":"true",children:(0,l.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-3L13.732 4c-.77-1.333-2.694-1.333-3.464 0L3.34 16c-.77 1.333.192 3 1.732 3z"})})}),(0,l.jsxs)("div",{className:"mt-3 text-center sm:mt-0 sm:ml-4 sm:text-left",children:[(0,l.jsx)("h3",{className:"text-lg leading-6 font-medium",id:"modal-headline",children:n}),(0,l.jsx)("div",{className:"mt-2",children:(0,l.jsx)("p",{children:t})})]})]})}),(0,l.jsx)(c.u.Footer,{children:(0,l.jsxs)("div",{className:"px-4 py-3 sm:px-6 sm:flex sm:flex-row-reverse",children:[(0,l.jsx)("button",{type:"button",name:"confirm",onClick:m,className:s()(i().confirm,"w-full inline-flex justify-center rounded-md border border-transparent shadow-sm px-4 py-2 text-base font-medium focus:outline-none focus:ring-2 focus:ring-offset-2 sm:ml-3 sm:w-auto sm:text-sm"),children:d||x("confirm")}),(0,l.jsx)("button",{type:"button",name:"cancel",onClick:u,className:"mt-3 w-full inline-flex justify-center rounded-md border shadow-sm px-4 py-2 text-base font-medium focus:outline-none focus:ring-2 focus:ring-offset-2 sm:mt-0 sm:ml-3 sm:w-auto sm:text-sm",children:a||x("cancel")})]})})]})})}},46942:function(e,n,t){"use strict";t.d(n,{u:function(){return d}});var r,o=t(94184),s=t.n(o),a=t(64556),i=t.n(a),c=t(85893),l={overlay:"overlay flex fixed top-0 left-0 z-40 w-full h-full overflow-y-auto",orientation:"m-auto w-full px-4",container:s()(i().modal,"t-modal m-auto overflow-hidden my-5 z-100"),content:"content modal relative",header:"header",headerTitle:"text-lg text-center p-4",headerClose:"absolute top-0 right-0 p-4 m-2 z-10 cursor-pointer",body:"body text-left",footer:"footer"};!function(e){e.small="max-w-sm",e.medium="max-w-xl",e.big="max-w-5xl"}(r||(r={}));var d=function(e){var n=e.children,t=e.size,o=void 0===t?r.medium:t;return(0,c.jsx)(c.Fragment,{children:(0,c.jsx)("div",{className:l.overlay,style:{backgroundColor:"rgba(0, 0, 0, 0.5)"},children:(0,c.jsx)("div",{className:l.orientation,children:(0,c.jsx)("div",{className:"".concat(l.container," ").concat(o),"aria-modal":!0,children:(0,c.jsx)("div",{className:l.content,children:n})})})})})};d.Header=function(e){var n=e.children,t=e.onCloseCallback;return(0,c.jsxs)("div",{className:l.header,children:[t&&(0,c.jsx)("a",{className:l.headerClose,onClick:t,children:(0,c.jsx)("img",{src:"https://www.datocms-assets.com/36636/1643701580-close_old.svg",alt:"close",width:"14px",height:"14px"})}),n]})},d.Title=function(e){var n=e.children;return(0,c.jsx)("div",{className:l.headerTitle,children:n})},d.Body=function(e){var n=e.children;return(0,c.jsx)("div",{className:l.body,children:n})},d.Footer=function(e){var n=e.children;return(0,c.jsx)("div",{className:l.footer,children:n})}},27399:function(e){e.exports={dropDownMenu:"DropdownMenu_dropDownMenu__RqIrW",secondary:"DropdownMenu_secondary__IYCaY",dropDownMenuContent:"DropdownMenu_dropDownMenuContent__F7uZ2"}},29124:function(e){e.exports={buttonPrimary:"Button_buttonPrimary__sKuiV",buttonSecondary:"Button_buttonSecondary__T0TtP"}},82597:function(e){e.exports={confirm:"Confirmation_confirm__bwPt_"}},64556:function(e){e.exports={modal:"Modal_modal__yZ0Zi"}}}]);
